import{a as n}from"./DEefp4d8.js";import{U as x,Q as f,V as A}from"./DPxB2w_0.js";const g=x("backendAdminStore",()=>{const a=f({lists:{hasNext:0,hasPrev:0,path:"",page:1,data:[]},item:{data:null,path:""}}),c=async t=>{if(a.lists.data.length>0&&t.path===a.lists.path&&t.page===1)return;const{code:e,data:s}=await n().$get("/api/backend/admin/list",{...t,path:void 0,cache:!0});if(e===200&&s){const{list:i=[],path:r,hasNext:h=0,hasPrev:u=0,page:d}={...s,path:t.path,page:t.page};a.lists={data:d===1?i:a.lists.data.concat(i),hasNext:h,hasPrev:u,page:(d||1)+1,path:r}}},o=async t=>{const{code:e,data:s}=await n().$get("/api/backend/admin/item",{...t,path:void 0});e===200&&s&&(a.item={data:s,...t})},p=t=>{a.item.data=t;const e=a.lists.data.findIndex(s=>s._id===t._id);e>-1&&a.lists.data.splice(e,1,t)},l=t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:1})},m=t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:0})};return{...A(a),getAdminList:c,getAdminItem:o,updateAdminItem:p,deleteAdmin:l,recoverAdmin:m}}),I=g;export{I as u};
