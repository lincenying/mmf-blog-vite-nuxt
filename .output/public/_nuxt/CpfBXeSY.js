import{d as C,F as b,J as x,K as w,L as $,r as B,t as N,i as A,v as a,x as o,y as t,M as _,N as L,O as M,z as u,A as R,B as S,C as V,I as D}from"./DPxB2w_0.js";import{u as F}from"./JrUFQDTA.js";import{u as T,a as m}from"./DEefp4d8.js";import{u as j}from"./CiqCsSE6.js";import{s as p}from"./Dg45MdiV.js";import"./B8H6CRKA.js";import"./CcbZIe53.js";const z={class:"card settings-main"},H={class:"settings-main-content"},E=t("div",{class:"list-section list-header"},[t("div",{class:"list-title"},"分类名称"),t("div",{class:"list-date"},"分类排序"),t("div",{class:"list-action"},"操作")],-1),G={class:"list-date"},I={class:"list-action"},J=["onClick"],K=["onClick"],Z=C({name:"BackendCategoryList",__name:"list",async setup(O){let r,l;const g=b(),n=F();[r,l]=x(()=>T("backend-category-list",()=>n.getCategoryList({limit:99,path:g.fullPath}))),await r,l();const y=w(n),h=$(y,"lists");j("backend-category-list");async function f(s){const{code:i,message:c}=await m().$get("/api/backend/category/recover",{id:s});i===200&&(p({type:"success",content:c}),n.recoverCategory(s))}async function v(s){const{code:i,message:c}=await m().$get("/api/backend/category/delete",{id:s});i===200&&(p({type:"success",content:c}),n.deleteCategory(s))}const d=B("分类列表 - M.M.F 小屋");return N({title:d,meta:[{name:"description",content:d}]}),(s,i)=>{const c=A("router-link");return a(),o("div",z,[t("div",H,[E,(a(!0),o(_,null,L(h.value,e=>(a(),o("div",{key:e._id,class:"list-section"},[t("div",{class:M(["list-title",e.is_delete?"text-red-500 line-through":""])},u(e.cate_name),3),t("div",G,u(e.cate_order),1),t("div",I,[R(c,{to:`/_backend/category/modify?id=${e._id}`,class:"badge badge-success"},{default:S(()=>[V("编辑")]),_:2},1032,["to"]),e.cate_num?D("",!0):(a(),o(_,{key:0},[e.is_delete?(a(),o("a",{key:0,href:"javascript:;",onClick:k=>f(e._id)},"恢复",8,J)):(a(),o("a",{key:1,href:"javascript:;",onClick:k=>v(e._id)},"删除",8,K))],64))])]))),128))])])}}});export{Z as default};
