import{_ as H,C as E,a as J,b as O}from"./BECqvDc1.js";import{d as v,V as M,L as r,i as q,v as o,x as l,y as e,C as a,A as d,B as h,z as u,a2 as P,J as b,K as I,j as Q,t as U,G as W,M as N,N as X,H as B,O as Y,I as Z}from"./DPxB2w_0.js";import{u as ee,_ as te}from"./BVUqdimP.js";import{u as se}from"./JrUFQDTA.js";import{u as L}from"./DEefp4d8.js";const oe={class:"card feed"},ae={class:"feed-content"},ne={class:"feed-source-time"},ce={class:"feed-source"},ie={class:"feed-time"},re={class:"feed-main-link-wrap"},le={class:"feed-desc-wrap"},de={class:"feed-article-content markdown-body"},_e=v({name:"TopicsItem",__name:"topics-item",props:{item:null},setup(_){const n=M(_),t=r(n,"item");return($,x)=>{const c=q("router-link"),i=H;return o(),l("div",oe,[e("div",ae,[e("div",ne,[e("span",ce,[a("来自分类 "),d(c,{to:`/category/${t.value.category}`,class:"feed-minor-link"},{default:h(()=>[a(u(t.value.category_name),1)]),_:1},8,["to"])]),e("span",ie,u(t.value.update_date),1)]),e("div",re,[d(c,{to:`/article/${t.value._id}`,class:"feed-main-link"},{default:h(()=>[a(u(t.value.title),1)]),_:1},8,["to"])]),e("div",le,[e("div",de,u(t.value.content),1)])]),d(i,{item:t.value},null,8,["item"])])}}}),me={class:"card feed"},ue={class:"feed-content"},pe={class:"feed-desc-wrap"},he={class:"feed-article-content markdown-body"},fe=v({name:"TopicsItemNone",__name:"topics-item-none",setup(_){return(p,n)=>(o(),l("div",me,[e("div",ue,[e("div",pe,[e("div",he,[P(p.$slots,"default")])])])]))}}),ye={class:"main wrap"},ge={class:"main-left"},ve={class:"cards-wrap home-feeds"},$e={key:0,class:"card card-content-loader"},xe=e("rect",{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"},null,-1),we=e("rect",{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"},null,-1),ke=e("rect",{x:"0",y:"80",rx:"3",ry:"3",width:"550",height:"6.4"},null,-1),Ce=e("rect",{x:"0",y:"100",rx:"3",ry:"3",width:"620",height:"6.4"},null,-1),Te=e("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"401",height:"6.4"},null,-1),be=e("rect",{x:"0",y:"140",rx:"3",ry:"3",width:"501",height:"6.4"},null,-1),Ie=e("circle",{cx:"30",cy:"30",r:"30"},null,-1),Ne={class:"load-more-wrap"},Be=e("i",{class:"icon icon-circle-loading"},null,-1),Le={class:"main-right"},Ke=v({name:"FrontendTopicList",__name:"topics-list",props:{topics:null,loading:{type:Boolean},pageType:null,categoryId:null,searchKey:null},emits:["loadMore"],async setup(_,{emit:p}){let n,t;const $=_,x=p,c=M($),i=r(c,"topics"),f=r(c,"pageType"),S=r(c,"categoryId"),A=r(c,"searchKey"),w=se(),k=ee();[n,t]=b(()=>L("frontend-article-category",()=>w.getCategoryList({}))),await n,t(),[n,t]=b(()=>L("frontend-article-trending",()=>k.getTrending())),await n,t();const V=I(w),C=r(V,"lists"),F=I(k),K=r(F,"trending");async function j(s=i.value.page){x("loadMore",s)}const T=Q(()=>{let s="M.M.F 小屋";if(f.value==="category"){const m=C.value.find(y=>y._id===S.value);m&&(s=`${m.cate_name} - ${s}`)}else f.value==="search"?s=`搜索: ${A.value} - ${s}`:f.value==="visit"&&(s=`热门 - ${s}`);return s});return U({title:T,meta:[{name:"description",content:T}]}),(s,m)=>{const y=_e,R=fe,z=J,D=te,G=O;return o(),l("div",ye,[e("div",ge,[e("div",ve,[i.value.path?i.value.data.length>0?(o(),l(N,{key:1},[(o(!0),l(N,null,X(i.value.data,g=>(o(),B(y,{key:g._id,item:g},null,8,["item"]))),128)),e("div",Ne,[i.value.hasNext?(o(),l("a",{key:0,href:"javascript:;",class:Y(["load-more",_.loading?"loading":""]),onClick:m[0]||(m[0]=g=>j())},[a(u(_.loading?"加载中":"更多")+" ",1),Be],2)):Z("",!0)])],64)):(o(),B(R,{key:2},{default:h(()=>[a("当前分类还没有文章...")]),_:1})):(o(),l("div",$e,[d(W(E),{height:160,width:660,speed:2,"primary-color":"#f3f3f3","secondary-color":"#ecebeb"},{default:h(()=>[xe,a(),we,ke,a(),Ce,Te,a(),be,Ie]),_:1})]))])]),e("div",Le,[d(z,{category:C.value},null,8,["category"]),d(D,{trending:K.value},null,8,["trending"]),d(G)])])}}});export{Ke as _};
