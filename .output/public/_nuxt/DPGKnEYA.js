import{_ as v}from"./DC-Wy9T5.js";import{d as x,u as C,K as k,L as w,Q as B,R as T,r as M,t as R,v as V,x as I,y as t,A as l,B as m,S as _,T as p,G as n}from"./DPxB2w_0.js";import{u as S}from"./JrUFQDTA.js";import{u as $,s as u}from"./Dg45MdiV.js";import{a as G}from"./DEefp4d8.js";import"./CcbZIe53.js";import"./B8H6CRKA.js";const H={class:"settings-main card"},L={class:"settings-main-content"},N=t("span",{class:"input-info error"},"请输入分类名称",-1),U=t("span",{class:"input-info error"},"请输入分类排序",-1),z=x({name:"BackendCategoryInsert",__name:"insert",setup(j){const f=C(),i=S(),g=k(i),y=w(g,"item"),[h,c]=$(!1),e=B({cate_name:"",cate_order:""});T(y.value,a=>{a.data&&(e.cate_name=a.data.cate_name,e.cate_order=a.data.cate_order)},{immediate:!0});async function b(){if(!e.cate_name||!e.cate_order){u("请将表单填写完整!");return}if(h.value)return;c(!0);const{code:a,data:s,message:o}=await G().$post("/api/backend/category/insert",{},{body:e});c(!1),a===200&&(u({type:"success",content:o}),i.insertCategoryItem({...e,...s}),f.push("/_backend/category/list"))}const d=M("添加分类 - M.M.F 小屋");return R({title:d,meta:[{name:"description",content:d}]}),(a,s)=>{const o=v;return V(),I("div",H,[t("div",L,[l(o,{title:"分类名称"},{default:m(()=>[_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>n(e).cate_name=r),type:"text",placeholder:"分类名称",class:"base-input",name:"cate_name"},null,512),[[p,n(e).cate_name]]),N]),_:1}),l(o,{title:"分类排序"},{default:m(()=>[_(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>n(e).cate_order=r),type:"text",placeholder:"分类排序",class:"base-input",name:"cate_order"},null,512),[[p,n(e).cate_order]]),U]),_:1})]),t("div",{class:"settings-footer"},[t("a",{href:"javascript:;",class:"btn btn-yellow",onClick:b},"添加分类")])])}}});export{z as default};
