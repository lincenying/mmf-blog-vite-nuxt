import{_ as A}from"./DC-Wy9T5.js";import{d as B,u as C,J as M,K as T,L as V,Q as R,R as N,r as S,t as U,i as $,v as D,x as H,y as t,A as r,B as d,S as m,T as u,G as n,C as I}from"./DPxB2w_0.js";import{u as L}from"./Dn_8v55Y.js";import{u as Q}from"./BwmWTaDw.js";import{u as j,a as E}from"./DEefp4d8.js";import{u as F,s as b}from"./Dg45MdiV.js";import"./B8H6CRKA.js";import"./CcbZIe53.js";const G={class:"card settings-main"},J={class:"settings-main-content"},K=t("span",{class:"input-info error"},"请输入昵称",-1),q=t("span",{class:"input-info error"},"请输入邮箱",-1),z=t("span",{class:"input-info error"},"请输入密码",-1),O={class:"settings-footer"},ne=B({name:"BackendAdminModify",__name:"modify",async setup(P){let c,p;const h=C(),f=L("id"),l=Q();[c,p]=M(()=>j("backend-article-modify",()=>l.getAdminItem({id:f.value}))),await c,p();const w=T(l),g=V(w,"item"),e=R({id:f.value,username:"",email:"",password:""});N(()=>g.value,a=>{a.data&&(e.username=a.data.username,e.email=a.data.email)},{deep:!0,immediate:!0});const[k,_]=F(!1);async function v(){if(!e.username||!e.email){b("请将表单填写完整!");return}if(k.value)return;_(!0);const{code:a,message:s,data:o}=await E().$post("/api/backend/admin/modify",{},{body:e});_(!1),a===200&&(b({type:"success",content:s}),l.updateAdminItem(o),h.push("/_backend/admin/list"))}const y=S("编辑管理员 - M.M.F 小屋");return U({title:y,meta:[{name:"description",content:y}]}),(a,s)=>{const o=A,x=$("router-link");return D(),H("div",G,[t("div",J,[t("form",null,[r(o,{title:"昵称"},{default:d(()=>[m(t("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>n(e).username=i),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[u,n(e).username]]),K]),_:1}),r(o,{title:"邮箱"},{default:d(()=>[m(t("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>n(e).email=i),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[u,n(e).email]]),q]),_:1}),r(o,{title:"密码"},{default:d(()=>[m(t("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>n(e).password=i),type:"password",placeholder:"密码",class:"base-input",name:"password"},null,512),[[u,n(e).password]]),z]),_:1})])]),t("div",O,[t("a",{href:"javascript:;",class:"btn btn-yellow",onClick:v},"编辑管理员"),r(x,{to:"/_backend/admin/list",class:"btn btn-blue"},{default:d(()=>[I("返回")]),_:1})])])}}});export{ne as default};
