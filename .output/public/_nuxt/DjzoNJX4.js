import{_ as M}from"./DC-Wy9T5.js";import{d as R,F as T,u as B,J as V,K as A,L as N,Q as S,R as $,r as D,t as F,i as G,v as H,x as I,y as t,A as c,B as d,S as f,T as y,G as n,C as L}from"./DPxB2w_0.js";import{u as Q}from"./Dn_8v55Y.js";import{u as U}from"./JrUFQDTA.js";import{u as j,a as E}from"./DEefp4d8.js";import{u as J,s as g}from"./Dg45MdiV.js";import"./B8H6CRKA.js";import"./CcbZIe53.js";const K={class:"settings-main card"},P={class:"settings-main-content"},q=t("span",{class:"input-info error"},"请输入分类名称",-1),z=t("span",{class:"input-info error"},"请输入分类排序",-1),O={class:"settings-footer"},ne=R({name:"BackendCategoryModify",__name:"modify",async setup(W){let l,u;const h=T(),b=B(),m=Q("id"),r=U();[l,u]=V(()=>j("backend-category-list",()=>r.getCategoryItem({path:h.fullPath,id:m.value}))),await l,u();const v=A(r),C=N(v,"item"),[k,_]=J(!1),e=S({id:m.value,cate_name:"",cate_order:""});$(C.value,a=>{a.data&&(e.cate_name=a.data.cate_name,e.cate_order=a.data.cate_order)},{immediate:!0,deep:!0});async function x(){if(!e.cate_name||!e.cate_order){g("请将表单填写完整!");return}if(k.value)return;_(!0);const{code:a,data:o,message:s}=await E().$post("/api/backend/category/modify",{},{body:e});_(!1),a===200&&(g({type:"success",content:s}),r.updateCategoryItem(o),b.push("/_backend/category/list"))}const p=D("编辑分类 - M.M.F 小屋");return F({title:p,meta:[{name:"description",content:p}]}),(a,o)=>{const s=M,w=G("router-link");return H(),I("div",K,[t("div",P,[c(s,{title:"分类名称"},{default:d(()=>[f(t("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>n(e).cate_name=i),type:"text",placeholder:"分类名称",class:"base-input",name:"cate_name"},null,512),[[y,n(e).cate_name]]),q]),_:1}),c(s,{title:"分类排序"},{default:d(()=>[f(t("input",{"onUpdate:modelValue":o[1]||(o[1]=i=>n(e).cate_order=i),type:"text",placeholder:"分类排序",class:"base-input",name:"cate_order"},null,512),[[y,n(e).cate_order]]),z]),_:1})]),t("div",O,[t("a",{href:"javascript:;",class:"btn btn-yellow",onClick:x},"编辑分类"),c(w,{to:"/_backend/category/list",class:"btn btn-blue"},{default:d(()=>[L("返回")]),_:1})])])}}});export{ne as default};
