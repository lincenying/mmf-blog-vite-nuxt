import{a}from"./DEefp4d8.js";import{U as g,Q as f,V as m}from"./DPxB2w_0.js";const p=g("globalCategoryStore",()=>{const t=f({lists:[],item:{data:null}}),o=async e=>{if(t.lists.length)return;const{code:s,data:i}=await a().$get("/api/backend/category/list",{...e,path:void 0,cache:!0});s===200&&i&&(t.lists=i.list)},n=async e=>{const{code:s,data:i}=await a().$get("/api/backend/category/item",{...e,path:void 0});s===200&&i&&(t.item={data:i,...e})},c=e=>{t.lists=[e].concat(t.lists)},r=e=>{t.item.data=e;const s=t.lists.findIndex(i=>i._id===e._id);s>-1&&t.lists.splice(s,1,e)},d=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:1})},l=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:0})};return{...m(t),getCategoryList:o,getCategoryItem:n,insertCategoryItem:c,updateCategoryItem:r,deleteCategory:d,recoverCategory:l}}),C=p;export{C as u};
